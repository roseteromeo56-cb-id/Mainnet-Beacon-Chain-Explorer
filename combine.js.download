var isValidator=false;var isEpoch=false;var isSlot=false;var isEth1=false;var isGraffiti=false;var searchFlag=false;var searchFlag1=false;$(document).ready(function(){if($('.searchautocomplete1').length>0){$('.searchautocomplete1').autocomplete({source:function(request,response){var searchTerm=request.term;$.ajax({dataType:"json",type:'Get',url:'/searchHandler',data:{term:searchTerm,networkId:networkId},success:function(data){isValidator=false;isEpoch=false;isSlot=false;isEth1=false;isGraffiti=false;response($.map(data,function(item){return{label:item.split('\t')[0],value:item.split('\t')[1],desc:item.split('\t')[2],typeval:item.split('\t')[3]};}));},error:function(XMLHttpRequest,textStatus,errorThrown){console.log(textStatus);}});},autoFocus:true,delay:150,minLength:1,select:function(event,ui){event.preventDefault();var typeval=ui.item.typeval;$(this).val('Searching ...');if(typeval==1){window.location.href=basePath+'/epoch/'+ui.item.value;}else if(typeval==2){window.location.href=basePath+'/slot/'+ui.item.value;}else if(typeval==3){window.location.href=basePath+'/validator/'+ui.item.value;}else if(typeval==4){window.location.href=basePath+'/eth1deposits?eth1='+ui.item.value;}else if(typeval==5){window.location.href=basePath+'/slots?gs='+ui.item.value;}}}).focus(function(event){$(".ui-helper-hidden-accessible").hide();event.preventDefault();}).addClass("list-autocomplete").data("ui-autocomplete")._renderItem=function(ul,item){if(!searchFlag){searchFlag=true;ul.addClass("list-unstyled bg-white shadow rounded-bottom p-2 mb-0");}
if(item.typeval==="1"){var strEpoch="";if(!isEpoch){isEpoch=true;strEpoch="<li class='mb-2 ether-search-heading'><h5 class='bg-gray rounded px-2 py-1'>Epoch</h5></li>";}
strEpoch=strEpoch+"<li class='mb-2'><a class='media align-items-baseline ether-search text-truncate p-2' href='javascript:;'><div class='mr-2'><span class='icon icon-xs icon-soft-secondary rounded-circle'><i class='fal fa-cubes'></i></span></div><div class='media-body text-truncate'><span class='h6 mb-0'>"+item.label+"</span></div></a>";return $(strEpoch).appendTo(ul);}else if(item.typeval==="2"){var strSlot="";if(!isSlot){isSlot=true;strSlot="<li class='mb-2 ether-search-heading'><h5 class='bg-gray rounded px-2 py-1'>Slot</h5></li>";}
strSlot=strSlot+"<li class='mb-2'><a class='media align-items-baseline ether-search text-truncate p-2' href='javascript:;'><div class='mr-2'><span class='icon icon-xs icon-soft-secondary rounded-circle'><i class='fal fa-cube'></i></span></div><div class='media-body text-truncate'><span class='h6 mb-0'>"+item.label+"</span></div></a>";return $(strSlot).appendTo(ul);}else if(item.typeval==="3"){var strValidator="";if(!isValidator){isValidator=true;strValidator="<li class='mb-2 ether-search-heading'><h5 class='bg-gray rounded px-2 py-1'>Validator</h5></li>";}
strValidator=strValidator+"<li class='mb-2'><a class='media align-items-baseline ether-search text-truncate p-2' href='javascript:;'><div class='mr-2'><span class='icon icon-xs icon-soft-secondary rounded-circle'><i class='far fa-user'></i></span></div><div class='media-body text-truncate'><span class='h6 mb-0'>"+item.label+"</span></div></a>";return $(strValidator).appendTo(ul);}else if(item.typeval==="4"){var strEth1="";if(!isEth1){isEth1=true;strEth1="<li class='mb-2 ether-search-heading'><h5 class='bg-gray rounded px-2 py-1'>Validator Deposits</h5></li>";}
strEth1=strEth1+"<li class='mb-2'><a class='media align-items-baseline ether-search text-truncate p-2' href='javascript:;'><div class='mr-2'><span class='icon icon-xs icon-soft-secondary rounded-circle'><i class='far fa-address-book'></i></span></div><div class='media-body text-truncate'><span class='h6 mb-0'>"+item.label+"</span></div></a>";return $(strEth1).appendTo(ul);}else if(item.typeval==="5"){var strGraffiti="";if(!isGraffiti){isGraffiti=true;strGraffiti="<li class='mb-2 ether-search-heading'><h5 class='bg-gray rounded px-2 py-1'>Graffiti</h5></li>";}
strGraffiti=strGraffiti+"<li class='mb-2'><a class='media align-items-baseline ether-search text-truncate p-2' href='javascript:;'><div class='mr-2'><span class='icon icon-xs icon-soft-secondary rounded-circle'><i class='far fa-spray-can'></i></span></div><div class='media-body text-truncate'><span class='h6 mb-0'>"+item.label+"</span></div></a>";return $(strGraffiti).appendTo(ul);}};}
if($('.searchautocomplete').length>0){$('.searchautocomplete').autocomplete({source:function(request,response){var searchTerm=request.term;$.ajax({dataType:"json",type:'Get',url:'/searchHandler',data:{term:searchTerm,networkId:networkId},success:function(data){isValidator=false;isEpoch=false;isSlot=false;isEth1=false;isGraffiti=false;response($.map(data,function(item){return{label:item.split('\t')[0],value:item.split('\t')[1],desc:item.split('\t')[2],typeval:item.split('\t')[3]};}));},error:function(XMLHttpRequest,textStatus,errorThrown){console.log(textStatus);}});},autoFocus:true,delay:150,minLength:1,select:function(event,ui){event.preventDefault();var typeval=ui.item.typeval;$(this).val('Searching ...');if(typeval==1){window.location.href=basePath+'/epoch/'+ui.item.value;}else if(typeval==2){window.location.href=basePath+'/slot/'+ui.item.value;}else if(typeval==3){window.location.href=basePath+'/validator/'+ui.item.value;}else if(typeval==4){window.location.href=basePath+'/eth1deposits?eth1='+ui.item.value;}else if(typeval==5){window.location.href=basePath+'/slots?gs='+ui.item.value;}}}).focus(function(event){$(".ui-helper-hidden-accessible").hide();event.preventDefault();}).addClass("list-autocomplete").data("ui-autocomplete")._renderItem=function(ul,item){if(!searchFlag1){searchFlag1=true;ul.addClass("list-unstyled bg-white shadow rounded-bottom ui-auto-position-top p-2 mb-0");}
if(item.typeval==="1"){var strEpoch="";if(!isEpoch){isEpoch=true;strEpoch="<li class='mb-2 ether-search-heading'><h5 class='bg-gray rounded px-2 py-1'>Epoch</h5></li>";}
strEpoch=strEpoch+"<li class='mb-2'><a class='media align-items-baseline ether-search text-truncate p-2' href='javascript:;'><div class='mr-2'><span class='icon icon-xs icon-soft-secondary rounded-circle'><i class='fal fa-cubes'></i></span></div><div class='media-body text-truncate'><span class='h6 mb-0'>"+item.label+"</span></div></a>";return $(strEpoch).appendTo(ul);}else if(item.typeval==="2"){var strSlot="";if(!isSlot){isSlot=true;strSlot="<li class='mb-2 ether-search-heading'><h5 class='bg-gray rounded px-2 py-1'>Slot</h5></li>";}
strSlot=strSlot+"<li class='mb-2'><a class='media align-items-baseline ether-search text-truncate p-2' href='javascript:;'><div class='mr-2'><span class='icon icon-xs icon-soft-secondary rounded-circle'><i class='fal fa-cube'></i></span></div><div class='media-body text-truncate'><span class='h6 mb-0'>"+item.label+"</span></div></a>";return $(strSlot).appendTo(ul);}else if(item.typeval==="3"){var strValidator="";if(!isValidator){isValidator=true;strValidator="<li class='mb-2 ether-search-heading'><h5 class='bg-gray rounded px-2 py-1'>Validator</h5></li>";}
strValidator=strValidator+"<li class='mb-2'><a class='media align-items-baseline ether-search text-truncate p-2' href='javascript:;'><div class='mr-2'><span class='icon icon-xs icon-soft-secondary rounded-circle'><i class='far fa-user'></i></span></div><div class='media-body text-truncate'><span class='h6 mb-0'>"+item.label+"</span></div></a>";return $(strValidator).appendTo(ul);}else if(item.typeval==="4"){var strEth1="";if(!isEth1){isEth1=true;strEth1="<li class='mb-2 ether-search-heading'><h5 class='bg-gray rounded px-2 py-1'>Validator Deposits</h5></li>";}
strEth1=strEth1+"<li class='mb-2'><a class='media align-items-baseline ether-search text-truncate p-2' href='javascript:;'><div class='mr-2'><span class='icon icon-xs icon-soft-secondary rounded-circle'><i class='far fa-address-book'></i></span></div><div class='media-body text-truncate'><span class='h6 mb-0'>"+item.label+"</span></div></a>";return $(strEth1).appendTo(ul);}else if(item.typeval==="5"){var strGraffiti="";if(!isGraffiti){isGraffiti=true;strGraffiti="<li class='mb-2 ether-search-heading'><h5 class='bg-gray rounded px-2 py-1'>Graffiti</h5></li>";}
strGraffiti=strGraffiti+"<li class='mb-2'><a class='media align-items-baseline ether-search text-truncate p-2' href='javascript:;'><div class='mr-2'><span class='icon icon-xs icon-soft-secondary rounded-circle'><i class='far fa-spray-can'></i></span></div><div class='media-body text-truncate'><span class='h6 mb-0'>"+item.label+"</span></div></a>";return $(strGraffiti).appendTo(ul);}};}
$("#txtSearchInputMobile").val('');$('#darkModaBtn').on('click',function(){$('body').toggleClass('dark-mode');if($('body').hasClass('dark-mode')){writeCookie("displaymode","dark");$('#darkModaBtnIcon').toggleClass('fa-moon fa-sun');$('#logo-header').attr('src','/src/svg/logo/beaconscan-logo-light.svg');$('#hero-image').attr('src','/src/svg/illustrations/hero-area-1-dark.svg');window.mode='dark';}else{writeCookie("displaymode","normal");$('#darkModaBtnIcon').toggleClass('fa-sun fa-moon');$('#logo-header').attr('src','/src/svg/logo/beaconscan-logo.svg');$('#hero-image').attr('src','/src/svg/illustrations/hero-area-1.svg');window.mode='normal';}
setTheme();});function writeCookie(key,value,days){var date=new Date();days=days||365;date.setTime(+date+(days*86400000));window.document.cookie=key+"="+value+"; expires="+date.toGMTString()+"; path=/";return value;}});function setTheme(){let favicon=document.querySelector('link[rel="shortcut icon"]');if(window.matchMedia('(prefers-color-scheme: dark)').matches&&!favicon.href.includes('light')){favicon.href=favicon.href.replace('favicon','favicon-light');}else{favicon.href=favicon.href.replace('favicon-light','favicon');}}
window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change',()=>{setTheme();})
myFn={spinner:'<div class="spinner-wrapper" style="position:unset;width:100%;"><i class="fas fa-circle-notch fa-spin spinner-wrapper__icon position-relativer fa-2x"></i></div>',ajaxCall:function(type,url,paramData,response){$.ajax({type:type,url:url,data:paramData,success:function(data){response(1,data);},error:function(XMLHttpRequest,textStatus,errorThrown){response(0,{XMLHttpRequest,textStatus,errorThrown});}});}}